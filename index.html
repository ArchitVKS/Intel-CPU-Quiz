<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Which Intel Core Are You?</title>
  <meta name="description" content="A fun 10‑question personality quiz that matches you with an Intel Core vibe: i3, i5, i7, or i9." />
  <style>
    :root{
      --bg: #0b0f16;
      --card: #121826;
      --muted: #8a93a6;
      --text: #e6ebff;
      --brand: #5b8cff;
      --accent: #9bdbff;
      --i3: #7dd3fc;
      --i5: #34d399;
      --i7: #a78bfa;
      --i9: #f59e0b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --ring: 0 0 0 3px rgba(91,140,255,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background: var(--bg);
      display:flex; justify-content:center; align-items:flex-start;
    }
    .wrap{ max-width: 960px; margin: 32px auto; padding: 0 16px; width:100%; }
    .header{ display:flex; align-items:center; gap:12px; margin-bottom:16px; }
    .logo{ width:40px; aspect-ratio:1; border-radius:12px; background:linear-gradient(160deg,var(--brand),var(--accent)); box-shadow: var(--shadow); display:grid; place-items:center; font-weight:900; color:#0b0f16; }
    h1{ font-size: clamp(1.5rem, 2vw + 1rem, 2.25rem); margin:0; letter-spacing:.3px; }
    .sub{ color:var(--muted); margin-top:4px; }

    .card{ background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.06); border-radius: var(--radius); box-shadow: var(--shadow); overflow:hidden; }
    .card-inner{ padding: 20px; }

    .progress{ height:10px; background:rgba(255,255,255,.06); border-radius:999px; margin: 0 20px; border:1px solid rgba(255,255,255,.07); }
    .bar{ height:100%; width:0%; background:linear-gradient(90deg, var(--brand), var(--accent)); transition: width .35s ease; }

    .meta{ display:flex; justify-content:space-between; align-items:center; gap:8px; padding: 12px 20px 6px; color:var(--muted); font-size:.95rem; }

    fieldset{ border:0; margin:0; padding:0; }
    legend{ font-size:1.175rem; font-weight:700; margin-bottom:12px; }

    .choices{ display:grid; gap:12px; margin-top:8px; }
    .choice{ display:flex; align-items:flex-start; gap:12px; padding:14px 16px; border-radius: 12px; border:1px solid rgba(255,255,255,.08); background: rgba(9,13,22,.6); cursor:pointer; }
    .choice:hover{ border-color: rgba(155,219,255,.35); }
    .choice[data-selected="true"]{ background: linear-gradient(180deg, rgba(91,140,255,.15), rgba(155,219,255,.08)); border-color: rgba(91,140,255,.5); box-shadow: var(--ring); }
    .choice input{ position:absolute; opacity:0; pointer-events:none; }

    .controls{ display:flex; justify-content:space-between; align-items:center; padding: 16px 20px 20px; gap:12px; }
    .btn{ appearance:none; border:1px solid rgba(255,255,255,.15); background:rgba(255,255,255,.08); color:var(--text); padding:12px 16px; border-radius:12px; font-weight:600; cursor:pointer; }
    .btn.primary{ background:linear-gradient(160deg, var(--brand), var(--accent)); color:#0b0f16; border-color: transparent; }

    .result-screen{ text-align:center; padding:40px; }
    .result-screen img{ width:180px; margin-bottom:20px; }
    .result-screen h2{ font-size:2.2rem; margin:6px 0 0; }
    .result-screen p{ margin-top:10px; color:var(--muted); }

    .link-btn{ background:none; border:0; color:var(--accent); font-weight:700; cursor:pointer; text-decoration:underline; padding:8px 4px; }

    .score-breakdown{ display:grid; grid-template-columns: repeat(4,1fr); gap:12px; margin-top:12px; }
    .score{ background: rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px; text-align:center; }

    /* Collapsible panel */
    .collapsible{ overflow:hidden; max-height:0; opacity:0; transition:max-height .35s ease, opacity .35s ease; }
    .collapsible.open{ max-height:220px; opacity:1; margin-top:6px; }

    /* Pop animation for tiles */
    @keyframes pop { 0%{ transform:scale(.8); opacity:0 } 70%{ transform:scale(1.05); opacity:1 } 100%{ transform:scale(1) } }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header" aria-hidden="true">
      <div class="logo">IQ</div>
      <div>
        <h1>Which Intel Core Are You?</h1>
        <div class="sub">Find out which CPU you are!</div>
      </div>
    </div>

    <div class="card" id="app">
      <div class="meta">
        <div id="stepLabel">Question 1 of 10</div>
        <div class="badge" id="answeredBadge">0/10 answered</div>
      </div>
      <div class="progress"><div class="bar" id="bar"></div></div>
      <div class="card-inner" id="stage"></div>
      <div class="controls">
        <button class="btn" id="backBtn" type="button">← Back</button>
        <div style="display:flex; gap:10px;">
          <button class="btn" id="resetBtn" type="button">Reset</button>
          <button class="btn primary" id="nextBtn" type="button">Next →</button>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  const STORAGE_KEY = 'intel_core_quiz_v1';

  const QUESTIONS = [
    { q: "How do you usually handle your day?", a:[{label:"Keep it simple, one task at a time", key:"i3"},{label:"Balance work and fun pretty well", key:"i5"},{label:"Plan ahead and push through tough tasks", key:"i7"},{label:"Go full throttle, packed schedule, no breaks", key:"i9"}]},
    { q: "What’s your ideal weekend?", a:[{label:"Watching shows and relaxing", key:"i3"},{label:"Hanging with friends", key:"i5"},{label:"Side project", key:"i7"},{label:"Competing or training", key:"i9"}]},
    { q: "How do you solve problems?", a:[{label:"Stick to what works", key:"i3"},{label:"Try different approaches", key:"i5"},{label:"Analyze and optimize", key:"i7"},{label:"Dominate the problem", key:"i9"}]},
    { q: "Which best describes your energy level?", a:[{label:"Steady and calm", key:"i3"},{label:"Balanced", key:"i5"},{label:"High when motivated", key:"i7"},{label:"Always at 120%", key:"i9"}]},
    { q: "What kind of student were you?", a:[{label:"Basics, no stress", key:"i3"},{label:"Tried to do well and had fun", key:"i5"},{label:"Worked hard for top marks", key:"i7"},{label:"Overachiever #1", key:"i9"}]},
    { q: "How do you approach technology?", a:[{label:"As long as it works", key:"i3"},{label:"I like gadgets", key:"i5"},{label:"Keep up with trends", key:"i7"},{label:"Need the best", key:"i9"}]},
    { q: "What motivates you most?", a:[{label:"Stability", key:"i3"},{label:"Balance", key:"i5"},{label:"Achievement", key:"i7"},{label:"Winning", key:"i9"}]},
    { q: "How do you handle stress?", a:[{label:"Avoid it", key:"i3"},{label:"Manage it well", key:"i5"},{label:"Turn into motivation", key:"i7"},{label:"Thrive on it", key:"i9"}]},
    { q: "If you were a car?", a:[{label:"Family sedan", key:"i3"},{label:"Sporty hatchback", key:"i5"},{label:"Luxury sedan", key:"i7"},{label:"Supercar", key:"i9"}]},
    { q: "Pick a motto:", a:[{label:"Keep it simple.", key:"i3"},{label:"Balance is key.", key:"i5"},{label:"Aim higher.", key:"i7"},{label:"Go big.", key:"i9"}]}
  ];

  const RESULT_META = {
    i3:{name:"i3 CPU",desc:"You’re dependable and steady."},
    i5:{name:"i5 CPU",desc:"Versatile and balanced."},
    i7:{name:"i7 CPU",desc:"Ambitious and powerful."},
    i9:{name:"i9 CPU",desc:"Extreme performance and intensity."}
  };

  // --- state ---
  let index=0;
  const answers=Array(QUESTIONS.length).fill(null);

  // Try load saved state
  try{
    const raw = localStorage.getItem(STORAGE_KEY);
    if(raw){
      const saved = JSON.parse(raw);
      if(Array.isArray(saved.answers) && saved.answers.length===QUESTIONS.length){
        saved.answers.forEach((v,i)=>answers[i]=v);
      }
      if(Number.isInteger(saved.index)){
        index = Math.min(Math.max(0, saved.index), QUESTIONS.length-1);
      }
    }
  }catch{}

  const stage=document.getElementById('stage');
  const bar=document.getElementById('bar');
  const backBtn=document.getElementById('backBtn');
  const nextBtn=document.getElementById('nextBtn');
  const resetBtn=document.getElementById('resetBtn');
  const stepLabel=document.getElementById('stepLabel');
  const answeredBadge=document.getElementById('answeredBadge');

  function persist(){
    try{ localStorage.setItem(STORAGE_KEY, JSON.stringify({answers, index})); }catch{}
  }

  function updateProgress(){
    const answered=answers.filter(Boolean).length;
    bar.style.width=(answered/QUESTIONS.length*100)+'%';
    answeredBadge.textContent=`${answered}/${QUESTIONS.length} answered`;
    stepLabel.textContent=index<QUESTIONS.length?`Question ${index+1} of ${QUESTIONS.length}`:'Results';
  }

  function renderQuestion(){
    const data=QUESTIONS[index];
    stage.innerHTML='';
    const fs=document.createElement('fieldset');
    const legend=document.createElement('legend'); legend.textContent=data.q; fs.appendChild(legend);
    const list=document.createElement('div'); list.className='choices';
    data.a.forEach((opt,i)=>{
      const label=document.createElement('label'); label.className='choice'; label.setAttribute('data-selected','false');
      const input=document.createElement('input'); input.type='radio'; input.name=`q${index}`; input.value=opt.key;
      const dot=document.createElement('div'); dot.style.width='18px'; dot.style.height='18px'; dot.style.borderRadius='999px'; dot.style.border='2px solid rgba(255,255,255,.5)';
      const text=document.createElement('div'); text.innerHTML=`<div>${opt.label}</div>`;
      label.appendChild(input); label.appendChild(dot); label.appendChild(text);
      label.addEventListener('click',()=>{ answers[index]=opt.key; [...list.children].forEach(el=>el.setAttribute('data-selected','false')); label.setAttribute('data-selected','true'); dot.style.borderColor='white'; nextBtn.disabled=false; updateProgress(); persist(); });
      if(answers[index]===opt.key){label.setAttribute('data-selected','true'); input.checked=true;}
      list.appendChild(label);
    });
    fs.appendChild(list); stage.appendChild(fs);
    backBtn.disabled=index===0; nextBtn.textContent=index===QUESTIONS.length-1?'See Results →':'Next →'; nextBtn.disabled=answers[index]==null;
  }

  function computeResults(){
    const tally={i3:0,i5:0,i7:0,i9:0}; answers.forEach(k=>{if(k)tally[k]++});
    const entries=Object.entries(tally).sort((a,b)=>b[1]-a[1]);
    const primary=entries[0][0];
    return {tally,primary};
  }

  function renderResults(){
    const {tally,primary}=computeResults();
    const meta=RESULT_META[primary];
    stage.innerHTML='';
    const box=document.createElement('div'); box.className='result-screen';
    const img=document.createElement('img'); img.src='https://upload.wikimedia.org/wikipedia/commons/7/7e/Intel_logo_%282020%29.svg'; img.alt='Intel CPU';
    const h2=document.createElement('h2'); h2.textContent=`You are an ${meta.name}`;
    const p=document.createElement('p'); p.textContent=meta.desc;

    // Toggle for breakdown
    const toggle=document.createElement('button');
    toggle.className='link-btn';
    toggle.setAttribute('aria-expanded','false');
    toggle.setAttribute('aria-controls','breakdown');
    toggle.textContent='See results breakdown';

    const panel=document.createElement('div');
    panel.className='collapsible';
    panel.id='breakdown';

    const breakdown=document.createElement('div'); breakdown.className='score-breakdown';
    ['i3','i5','i7','i9'].forEach((k,idx)=>{ 
      const sc=document.createElement('div'); sc.className='score'; 
      sc.style.animation='pop .35s ease both';
      sc.style.animationDelay = (idx*80)+'ms';
      sc.innerHTML=`<h4>${k.toUpperCase()}</h4><strong>${tally[k]}</strong>`; 
      breakdown.appendChild(sc); 
    });
    panel.appendChild(breakdown);

    toggle.addEventListener('click',()=>{
      const open=panel.classList.toggle('open');
      toggle.setAttribute('aria-expanded', String(open));
      toggle.textContent = open ? 'Hide results breakdown' : 'See results breakdown';
    });

    box.appendChild(img); box.appendChild(h2); box.appendChild(p); box.appendChild(toggle); box.appendChild(panel);
    stage.appendChild(box);

    nextBtn.disabled=true; stepLabel.textContent='Results';
  }

  function resetAll(){ 
    for(let i=0;i<answers.length;i++)answers[i]=null; 
    index=0; 
    try{ localStorage.removeItem(STORAGE_KEY); }catch{}
    renderQuestion(); updateProgress(); 
  }

  backBtn.addEventListener('click',()=>{ if(index===0)return; index--; persist(); renderQuestion(); updateProgress(); });
  nextBtn.addEventListener('click',()=>{ if(index<QUESTIONS.length-1){index++; persist(); renderQuestion(); updateProgress();} else { if(answers.some(a=>a===null)){alert('Please answer all questions.'); return;} renderResults(); }});
  resetBtn.addEventListener('click',resetAll);

  // init
  renderQuestion(); updateProgress();
})();
</script>
</body>
</html>
